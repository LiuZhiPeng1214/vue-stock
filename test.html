<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<ul class="pagination" id="jsPagination">
  <li>首页</li>
  <li></li>
  <li></li>
  <li></li>
  <li></li>
  <li></li>
  <li>末页</li>
</ul>
<div class="demo">
  <div>(Demo1) total: 10，current: 4</div>
  <ul class="pagination">
    <li>首页</li>
    <li>2</li>
    <li>3</li>
    <li class="current">4</li>
    <li>5</li>
    <li>6</li>
    <li>末页</li>
  </ul>
</div>
<div class="demo">
  <div>(Demo2) total: 0，current: 0</div>
  <ul class="pagination hide">
    <li>首页</li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li>末页</li>
  </ul>
</div>

<div class="demo">
  <div>(Demo3) total: 3，current: 2</div>
  <ul class="pagination">
    <li class="hide">首页</li>
    <li>1</li>
    <li class="current">2</li>
    <li>3</li>
    <li class="hide"></li>
    <li class="hide"></li>
    <li class="hide">末页</li>
  </ul>
</div>

<div class="demo">
  <div>(Demo4) total: 10，current: 2</div>
  <ul class="pagination">
    <li class="hide">首页</li>
    <li>1</li>
    <li class="current">2</li>
    <li>3</li>
    <li>4</li>
    <li>5</li>
    <li>末页</li>
  </ul>
</div>

<div class="demo">
  <div>(Demo5) total: 10，current: 9</div>
  <ul class="pagination">
    <li>首页</li>
    <li>6</li>
    <li>7</li>
    <li>8</li>
    <li class="current">9</li>
    <li>10</li>
    <li class="hide">末页</li>
  </ul>
</div>
<script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
<script type="text/javascript">
  function pagination(total, current) {
    let $jsPagination = $('#jsPagination');
//    高亮显示
    $jsPagination.find('li').eq(current).addClass('current');
//
    if (total === 0) {
      $jsPagination.addClass('hide');
    } else if (total <= 5) {
      let $lis = $jsPagination.find('li');
      $lis.each(function () {
        let $this = $(this);
        $this.removeClass('hide');
      });
      $lis.eq(0).addClass('hide');
      $lis.last().addClass('hide');
    } else {
      let $lis = $jsPagination.find('li');
      let $hideLi = $jsPagination.find('li.hide');
      let lisLength = $lis.length - 2 - $hideLi.length;
//      把所有的
      if (lisLength < 5) {
        if (current === 1) {
//            第一个元素
          for (let i = 0; i < 4; i++) {
            $lis.eq(i).removeClass('hide');
          }
          $lis.first().addClass('hide');
        } else if (current === $lis.length - 2) {
//          最后一个元素
          for (let i = current - 4; i < current; i++) {
            $lis.eq(i).removeClass('hide');
          }
          $lis.last().addClass('hide');
        } else {
//            其他位置的元素
          if (current % 5 < 5) {
            for (let i = current - 1; i < current + 4; i++) {
              $lis.eq(i).removeClass('hide');
            }
            $lis.first().addClass('hide');
          } else {
            for (let i = current - 3; i < current + 2; i++) {
              $lis.eq(i).removeClass('hide');
            }
            $lis.last().addClass('hide');
          }
        }
      }
    }
  }
</script>
</body>
</html>
